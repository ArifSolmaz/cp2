<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CP2 - Computer Programming II</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-cream: #faf9f7;
            --bg-dark: #1a1a2e;
            --text-primary: #1a1a2e;
            --text-secondary: #555;
            --text-muted: #666;
            --accent: #7c3aed;
            --accent-light: rgba(124, 58, 237, 0.1);
            --success: #059669;
            --warning: #d97706;
            --border: #e5e5e5;
            --card-bg: #ffffff;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Crimson Pro', Georgia, serif;
            font-size: 19px;
            line-height: 1.8;
            background: var(--bg-cream);
            color: var(--text-primary);
            min-height: 100vh;
        }
        
        /* Topbar */
        .topbar {
            background: var(--bg-dark);
            color: white;
            padding: 12px 24px;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .topbar-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .topbar-subtitle {
            font-size: 0.85rem;
            opacity: 0.8;
        }
        
        .syllabus-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-family: system-ui, sans-serif;
            font-size: 0.85rem;
            text-decoration: none;
            transition: background 0.2s;
        }
        .syllabus-btn:hover { background: rgba(255,255,255,0.2); }
        
        /* Container */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 60px 24px;
        }
        
        /* Chapter Header */
        .chapter-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .chapter-label {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-family: system-ui, sans-serif;
            font-weight: 500;
            margin-bottom: 16px;
            letter-spacing: 0.5px;
        }
        
        .chapter-header h1 {
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .chapter-header .subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
            font-style: italic;
        }
        
        /* Section */
        .section {
            margin-bottom: 50px;
        }
        
        .section h2 {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }
        
        .section p {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }
        
        /* Info Cards Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 50px;
        }
        
        .info-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            padding: 24px;
        }
        
        .info-card h3 {
            font-size: 1.15rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-card ul, .info-card ol {
            color: var(--text-secondary);
            padding-left: 20px;
            font-size: 0.95rem;
        }
        
        .info-card li {
            margin: 8px 0;
        }
        
        .info-card strong {
            color: var(--text-primary);
        }
        
        .info-card.warning {
            border-left-color: var(--warning);
            background: linear-gradient(135deg, rgba(217, 119, 6, 0.05), rgba(217, 119, 6, 0.02));
        }
        
        .info-card.warning h3 {
            color: var(--warning);
        }
        
        /* Week Grid - 3 columns */
        .week-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 50px;
        }
        
        @media (max-width: 1024px) {
            .week-grid { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 640px) {
            .week-grid { grid-template-columns: 1fr; }
        }
        
        .week-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 24px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.25s ease;
            display: block;
        }
        
        .week-card:hover {
            border-color: var(--accent);
            box-shadow: 0 8px 24px rgba(124, 58, 237, 0.12);
            transform: translateY(-2px);
        }
        
        .week-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .week-badge {
            background: var(--accent);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-family: system-ui, sans-serif;
            font-weight: 600;
        }
        
        .break-badge {
            background: var(--warning);
        }
        
        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-family: system-ui, sans-serif;
            font-weight: 600;
        }
        
        .status-badge.open {
            background: rgba(5, 150, 105, 0.12);
            color: var(--success);
        }
        
        .status-badge.upcoming {
            background: rgba(59, 130, 246, 0.12);
            color: #2563eb;
        }
        
        .status-badge.closed {
            background: rgba(100, 100, 100, 0.1);
            color: #888;
        }
        
        .week-card h4 {
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }
        
        .week-card p {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-bottom: 16px;
            line-height: 1.5;
        }
        
        .week-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid var(--border);
            font-size: 0.9rem;
        }
        
        .dates {
            color: var(--text-muted);
            font-family: system-ui, sans-serif;
            font-size: 0.85rem;
        }
        
        .arrow {
            color: var(--accent);
            font-size: 1.2rem;
            transition: transform 0.2s;
        }
        
        .week-card:hover .arrow {
            transform: translateX(4px);
        }
        
        .week-card-actions {
            display: flex;
            gap: 8px;
            padding-top: 10px;
        }
        
        .week-card-actions a {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 0.82rem;
            font-weight: 600;
            font-family: system-ui, sans-serif;
            text-decoration: none;
            transition: all 0.2s;
        }
        
        .btn-colab {
            background: #f9ab00;
            color: #1a1a1a;
        }
        
        .btn-colab:hover {
            background: #e09900;
        }
        
        /* Break Card */
        .break-card {
            background: linear-gradient(135deg, rgba(217, 119, 6, 0.08), rgba(217, 119, 6, 0.03));
            border-color: rgba(217, 119, 6, 0.3);
            cursor: default;
        }
        
        .break-card:hover {
            transform: none;
            box-shadow: none;
            border-color: rgba(217, 119, 6, 0.3);
        }
        
        /* Footer */
        .footer {
            background: var(--bg-dark);
            color: white;
            padding: 40px 24px;
            text-align: center;
            margin-top: 60px;
        }
        
        .footer p {
            margin: 5px 0;
            opacity: 0.9;
        }
        
        .footer strong {
            color: white;
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            .chapter-header h1 { font-size: 2rem; }
            .info-grid { grid-template-columns: 1fr; }
            .container { padding: 40px 16px; }
        }
    </style>
</head>
<body>

<div class="topbar">
    <div>
        <div class="topbar-title">Computer Programming II</div>
        <div class="topbar-subtitle">CP2 ‚Ä¢ Spring 2026</div>
    </div>
    <a href="syllabus.html" class="syllabus-btn">üìã Syllabus</a>
</div>

<div class="container">
    <header class="chapter-header">
        <span class="chapter-label">Interactive Python Course</span>
        <h1>Computer Programming II</h1>
        <p class="subtitle">Istanbul Health and Technology University ‚Ä¢ Mechatronics Engineering</p>
    </header>
    
    <section class="section">
        <p>Welcome to Computer Programming II! This course builds on your programming fundamentals and takes you through intermediate Python concepts. Each week's content includes explanations, interactive code examples you can run directly in your browser, and exercises to practice. From Week 8 onward, follow the üî¨ <strong>Sensor Data Logger</strong> case study ‚Äî a running project that grows each week as you learn new skills.</p>
    </section>
    
    <div class="info-grid">
        <div class="info-card">
            <h3>üìñ How to Learn</h3>
            <ul>
                <li><strong>Review</strong> with the üß† Recap Quiz first</li>
                <li><strong>Read</strong> the explanations carefully</li>
                <li><strong>Run</strong> code examples in your browser</li>
                <li><strong>Avoid</strong> the ‚ùå Common Mistakes</li>
                <li><strong>Practice</strong> with the exercises</li>
                <li><strong>Preview</strong> next week with the üåâ Bridge Exercise</li>
            </ul>
        </div>
        
        <div class="info-card">
            <h3>üîÑ Workflow</h3>
            <ol>
                <li><strong>Study:</strong> Read content & run examples</li>
                <li><strong>Practice:</strong> Complete all exercises</li>
                <li><strong>Get code:</strong> Attend class for submission code</li>
                <li><strong>Submit:</strong> Fill the form at page bottom</li>
            </ol>
        </div>
        
        <div class="info-card warning">
            <h3>‚ö†Ô∏è Submission Rules</h3>
            <ul>
                <li>Submit <strong>only during the open window</strong></li>
                <li>Need <strong>class code</strong> from instructor</li>
                <li>Use your <strong>@istun.edu.tr</strong> email</li>
                <li><strong>One submission</strong> per week allowed</li>
            </ul>
        </div>
    </div>
    
    <section class="section">
        <h2>üìö Course Contents</h2>
        <p>Click on any week to access the learning materials. Each module contains explanations, runnable code examples, and practice exercises.</p>
    </section>
    
    <div class="week-grid" id="weekGrid"></div>
</div>

<footer class="footer">
    <p><strong>Instructor:</strong> Dr. Arif Solmaz</p>
    <p><strong>Department:</strong> Mechatronics Engineering</p>
    <p>Istanbul Health and Technology University</p>
</footer>

<script>
const weeks = [
    { week: 1, topic: "Introduction to Python", desc: "print(), variables, data types, basic math operations", start: "2026-02-09", end: "2026-02-13", file: "Week_01.html" },
    { week: 2, topic: "Control Flow & Conditionals", desc: "if, elif, else, comparison and logical operators", start: "2026-02-16", end: "2026-02-20", file: "Week_02.html" },
    { week: 3, topic: "Loops", desc: "for loops, while loops, break, continue, range()", start: "2026-02-23", end: "2026-02-27", file: "Week_03.html" },
    { week: 4, topic: "Functions", desc: "def, parameters, return values, scope, docstrings", start: "2026-03-02", end: "2026-03-06", file: "Week_04.html" },
    { week: 5, topic: "Lists and Tuples", desc: "Creating, indexing, slicing, list methods", start: "2026-03-09", end: "2026-03-13", file: "Week_05.html" },
    { week: 6, topic: "Dictionaries and Sets", desc: "Key-value pairs, set operations, comprehensions", start: "2026-03-16", end: "2026-03-20", file: "Week_06.html" },
    { week: 7, topic: "Strings Advanced", desc: "String methods, formatting, f-strings, regex intro", start: "2026-03-23", end: "2026-03-27", file: "Week_07.html" },
    { week: 8, topic: "File Handling", desc: "Reading, writing, context managers, file modes", start: "2026-03-30", end: "2026-04-03", file: "Week_08.html" },
    { week: "break", topic: "Spring Break", desc: "No classes or submissions during this period", start: "2026-04-06", end: "2026-04-18", file: null },
    { week: 9, topic: "Error Handling", desc: "try, except, finally, raising exceptions", start: "2026-04-20", end: "2026-04-24", file: "Week_09.html" },
    { week: 10, topic: "OOP Basics", desc: "Classes, objects, methods, __init__, self", start: "2026-04-27", end: "2026-05-01", file: "Week_10.html" },
    { week: 11, topic: "OOP Inheritance", desc: "Inheritance, polymorphism, super(), overriding", start: "2026-05-04", end: "2026-05-08", file: "Week_11.html" },
    { week: 12, topic: "Modules & Packages", desc: "import, creating modules, pip, virtual environments", start: "2026-05-11", end: "2026-05-15", file: "Week_12.html" },
    { week: 13, topic: "External Data", desc: "JSON, CSV, working with APIs, requests library", start: "2026-05-18", end: "2026-05-22", file: "Week_13.html" },
    { week: 14, topic: "Final Project", desc: "Comprehensive project combining all concepts", start: "2026-06-01", end: "2026-06-05", file: "Week_14.html" }
];

function formatDate(dateStr) {
    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    const d = new Date(dateStr);
    return `${months[d.getMonth()]} ${d.getDate()}`;
}

function getStatus(start, end) {
    const now = new Date();
    const startDate = new Date(start + 'T00:00:00');
    const endDate = new Date(end + 'T23:59:59');
    if (now < startDate) return 'upcoming';
    if (now > endDate) return 'closed';
    return 'open';
}

function getStatusText(status) {
    if (status === 'open') return 'Open';
    if (status === 'upcoming') return 'Upcoming';
    return 'Closed';
}

function buildWeekCards() {
    const grid = document.getElementById('weekGrid');
    
    weeks.forEach(item => {
        const status = getStatus(item.start, item.end);
        
        if (item.week === 'break') {
            const card = document.createElement('div');
            card.className = 'week-card break-card';
            card.innerHTML = `
                <div class="week-card-header">
                    <span class="week-badge break-badge">üå¥ Break</span>
                </div>
                <h4>${item.topic}</h4>
                <p>${item.desc}</p>
                <div class="week-card-footer">
                    <span class="dates">${formatDate(item.start)} ‚Äì ${formatDate(item.end)}</span>
                </div>
            `;
            grid.appendChild(card);
        } else {
            const card = document.createElement('div');
            card.className = 'week-card';
            const weekNum = String(item.week).padStart(2, '0');
            const colabUrl = `https://colab.research.google.com/github/ArifSolmaz/cp2/blob/main/notebooks/Week_${weekNum}.ipynb`;
            card.innerHTML = `
                <div class="week-card-header">
                    <span class="week-badge">Week ${item.week}</span>
                    <span class="status-badge ${status}">${getStatusText(status)}</span>
                </div>
                <h4>${item.topic}</h4>
                <p>${item.desc}</p>
                <div class="week-card-footer">
                    <span class="dates">${formatDate(item.start)} ‚Äì ${formatDate(item.end)}</span>
                </div>
                <div class="week-card-actions">
                    <a href="${colabUrl}" target="_blank" class="btn-colab">üü° Open in Colab</a>
                </div>
            `;
            grid.appendChild(card);
        }
    });
}

buildWeekCards();
</script>

<script>
// Auto-redirect to current week's page (only on first visit)
function getCurrentWeek() {
    const now = new Date();
    
    for (const item of weeks) {
        if (item.week === 'break') continue;
        
        const start = new Date(item.start + 'T00:00:00');
        const end = new Date(item.end + 'T23:59:59');
        
        if (now >= start && now <= end) {
            return item.file;
        }
    }
    return null;
}

// Check conditions
const urlParams = new URLSearchParams(window.location.search);
const noRedirect = urlParams.get('home') === 'true';
const hasVisited = sessionStorage.getItem('cp2_visited');
const cameFromWeek = document.referrer.includes('Week');

// Only redirect if: first visit AND no ?home=true AND didn't come from a week page
if (!noRedirect && !hasVisited && !cameFromWeek) {
    const currentWeekFile = getCurrentWeek();
    if (currentWeekFile) {
        sessionStorage.setItem('cp2_visited', 'true');
        
        const msg = document.createElement('div');
        msg.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#1a1a2e;color:white;padding:30px 50px;border-radius:10px;font-family:system-ui;text-align:center;z-index:9999;box-shadow:0 10px 40px rgba(0,0,0,0.3);';
        msg.innerHTML = '<div style="font-size:1.2rem;margin-bottom:10px;">Redirecting to this week\'s content...</div><div style="color:#a78bfa;">' + currentWeekFile.replace('.html','').replace('_',' ') + '</div>';
        document.body.appendChild(msg);
        
        setTimeout(() => {
            window.location.href = currentWeekFile;
        }, 1500);
    }
}

// Mark as visited when viewing homepage
sessionStorage.setItem('cp2_visited', 'true');
</script>

</body>
</html>
