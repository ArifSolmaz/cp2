<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 05: Lists and Tuples | Computer Programming II</title>
    
    <!-- Pyodide for Python execution -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-cream: #faf9f7;
            --bg-dark: #1a1a2e;
            --bg-code: #1e1e2e;
            --text-primary: #1a1a2e;
            --text-secondary: #444;
            --text-muted: #666;
            --accent: #7c3aed;
            --accent-light: rgba(124, 58, 237, 0.1);
            --success: #059669;
            --warning: #d97706;
            --danger: #dc2626;
            --border: #e5e5e5;
            --card-bg: #ffffff;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Crimson Pro', Georgia, serif;
            font-size: 19px;
            line-height: 1.8;
            background: var(--bg-cream);
            color: var(--text-primary);
        }
        
        /* Topbar */
        .topbar {
            background: var(--bg-dark);
            color: white;
            padding: 14px 24px;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .topbar a {
            color: white;
            text-decoration: none;
            font-family: system-ui, sans-serif;
            font-size: 0.9rem;
            opacity: 0.9;
            transition: opacity 0.2s;
        }
        
        .topbar a:hover { opacity: 1; }
        .topbar-title { font-family: system-ui, sans-serif; font-weight: 600; font-size: 1rem; }
        .topbar-nav { display: flex; gap: 24px; align-items: center; }
        
        /* Progress bar */
        .progress-container {
            position: fixed;
            top: 52px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--border);
            z-index: 99;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #a78bfa);
            width: 0%;
            transition: width 0.15s ease-out;
        }
        
        /* Main container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 50px 24px 80px;
        }
        
        /* Chapter Header */
        .chapter-header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 40px;
            border-bottom: 2px solid var(--border);
        }
        
        .chapter-label {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 6px 18px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-family: system-ui, sans-serif;
            font-weight: 500;
            margin-bottom: 20px;
        }
        
        .chapter-header h1 {
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            line-height: 1.2;
        }
        
        .chapter-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            color: var(--text-muted);
            font-size: 1rem;
            flex-wrap: wrap;
        }
        
        .chapter-meta span { display: flex; align-items: center; gap: 6px; }
        
        /* Learning Objectives */
        .objectives-box {
            background: linear-gradient(135deg, var(--accent-light), rgba(124, 58, 237, 0.05));
            border: 1px solid rgba(124, 58, 237, 0.2);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            padding: 28px;
            margin-bottom: 50px;
        }
        
        .objectives-box h3 {
            font-size: 1.2rem;
            margin-bottom: 16px;
            color: var(--accent);
        }
        
        .objectives-box ul {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 10px 30px;
            list-style: none;
        }
        
        .objectives-box li {
            color: var(--text-secondary);
            font-size: 0.95rem;
            padding-left: 28px;
            position: relative;
        }
        
        .objectives-box li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }
        
        /* Sections */
        .section { margin-bottom: 60px; scroll-margin-top: 70px; }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border);
        }
        
        .section-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            background: var(--accent);
            color: white;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            font-family: system-ui, sans-serif;
            flex-shrink: 0;
        }
        
        .section-header h2 { font-size: 1.6rem; font-weight: 600; color: var(--text-primary); }
        
        /* Content styling */
        .content p { color: var(--text-secondary); margin-bottom: 18px; }
        .content h3 { font-size: 1.25rem; font-weight: 600; margin: 35px 0 16px; color: var(--text-primary); }
        .content h4 { font-size: 1.05rem; font-weight: 600; margin: 28px 0 12px; color: var(--accent); }
        .content ul, .content ol { color: var(--text-secondary); margin: 16px 0 20px 28px; }
        .content li { margin-bottom: 10px; }
        .content strong { color: var(--text-primary); }
        
        /* Inline code */
        code {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(124, 58, 237, 0.1);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            color: var(--accent);
        }
        
        pre {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-code);
            color: #e4e4e7;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 16px 0;
        }
        
        /* Code Figure */
        .code-figure {
            background: var(--bg-code);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            border: 1px solid #333;
        }
        
        .code-figure-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 16px;
            background: rgba(255,255,255,0.05);
            border-bottom: 1px solid #333;
        }
        
        .code-figure-label {
            font-family: system-ui, sans-serif;
            font-size: 0.8rem;
            color: #a78bfa;
            font-weight: 500;
        }
        
        .code-figure-run {
            background: var(--success);
            color: white;
            border: none;
            padding: 6px 14px;
            border-radius: 6px;
            font-family: system-ui, sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .code-figure-run:hover { background: #047857; transform: translateY(-1px); }
        
        .code-editor {
            width: 100%;
            min-height: 120px;
            padding: 16px;
            background: var(--bg-code);
            border: none;
            color: #e4e4e7;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: vertical;
            outline: none;
        }
        
        .code-output {
            background: rgba(5, 150, 105, 0.1);
            border-top: 1px solid #333;
            padding: 14px 16px;
            display: none;
        }
        
        .code-output.show { display: block; }
        
        .code-output-label {
            font-family: system-ui, sans-serif;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--success);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .code-output-content {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: #d4d4d8;
            white-space: pre-wrap;
        }
        
        /* Info boxes */
        .info-box {
            padding: 18px 24px;
            border-radius: 8px;
            margin: 24px 0;
            border-left: 4px solid;
        }
        
        .info-box p { margin: 0; color: var(--text-secondary); font-size: 0.95rem; }
        
        .tip-box { background: rgba(5, 150, 105, 0.08); border-color: var(--success); }
        .tip-box::before { content: 'üí° Tip'; display: block; font-weight: 600; color: var(--success); margin-bottom: 8px; font-size: 0.9rem; }
        
        .warning-box { background: rgba(217, 119, 6, 0.08); border-color: var(--warning); }
        .warning-box::before { content: '‚ö†Ô∏è Important'; display: block; font-weight: 600; color: var(--warning); margin-bottom: 8px; font-size: 0.9rem; }
        
        .note-box { background: var(--accent-light); border-color: var(--accent); }
        .note-box::before { content: 'üìù Note'; display: block; font-weight: 600; color: var(--accent); margin-bottom: 8px; font-size: 0.9rem; }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 24px 0;
            border-radius: 10px;
            border: 1px solid var(--border);
        }
        
        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
        
        th {
            background: var(--bg-dark);
            color: white;
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-family: system-ui, sans-serif;
            font-size: 0.9rem;
        }
        
        td { padding: 14px 18px; border-bottom: 1px solid var(--border); color: var(--text-secondary); }
        tr:last-child td { border-bottom: none; }
        tr:hover td { background: rgba(124, 58, 237, 0.03); }
        
        /* Exercise Cards */
        .exercise-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            margin: 28px 0;
            overflow: hidden;
        }
        
        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 24px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.05));
            border-bottom: 1px solid var(--border);
        }
        
        .exercise-title {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .exercise-number {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 700;
            font-family: system-ui, sans-serif;
        }
        
        .difficulty {
            padding: 5px 14px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            font-family: system-ui, sans-serif;
        }
        
        .difficulty.easy { background: rgba(5, 150, 105, 0.12); color: var(--success); }
        .difficulty.medium { background: rgba(217, 119, 6, 0.12); color: var(--warning); }
        .difficulty.hard { background: rgba(220, 38, 38, 0.12); color: var(--danger); }
        
        .exercise-body { padding: 24px; }
        
        .exercise-description { color: var(--text-secondary); font-size: 1rem; margin-bottom: 20px; }
        
        .expected-output {
            background: rgba(5, 150, 105, 0.06);
            border: 1px solid rgba(5, 150, 105, 0.15);
            border-radius: 8px;
            padding: 16px 20px;
            margin: 20px 0;
        }
        
        .expected-output-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--success);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            font-family: system-ui, sans-serif;
        }
        
        .expected-output pre {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin: 0;
            white-space: pre-wrap;
            background: transparent;
            padding: 0;
        }
        
        .hints-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background: var(--accent-light);
            border: 1px solid rgba(124, 58, 237, 0.2);
            border-radius: 8px;
            color: var(--accent);
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        
        .hints-toggle:hover { background: rgba(124, 58, 237, 0.15); }
        
        .hints-content {
            display: none;
            background: rgba(124, 58, 237, 0.05);
            border: 1px solid rgba(124, 58, 237, 0.12);
            border-radius: 8px;
            padding: 18px 24px;
            margin-top: 14px;
        }
        
        .hints-content.show { display: block; }
        .hints-content ul { margin: 0; padding-left: 20px; }
        .hints-content li { color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 8px; }
        
        /* Submit Section */
        .submit-section {
            background: var(--bg-dark);
            border-radius: 14px;
            padding: 40px;
            margin: 60px 0;
            color: white;
        }
        
        .submit-section h2 { font-size: 1.6rem; margin-bottom: 10px; color: white; }
        .submit-section > p { color: rgba(255,255,255,0.7); margin-bottom: 28px; }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
            margin-bottom: 24px;
        }
        
        .form-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: rgba(255,255,255,0.8);
            font-family: system-ui, sans-serif;
        }
        
        .form-group input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.2s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--accent);
            background: rgba(255,255,255,0.15);
        }
        
        .form-group input::placeholder { color: rgba(255,255,255,0.4); }
        
        .honeypot { position: absolute; left: -9999px; }
        
        .submit-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 8px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: system-ui, sans-serif;
        }
        
        .submit-btn:hover { background: #6d28d9; transform: translateY(-2px); }
        
        .submit-status {
            margin-top: 20px;
            padding: 16px 20px;
            border-radius: 8px;
            font-family: system-ui, sans-serif;
            display: none;
        }
        
        /* Navigation */
        .page-nav {
            display: flex;
            justify-content: space-between;
            padding: 30px 0;
            border-top: 2px solid var(--border);
            margin-top: 60px;
        }
        
        .nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 24px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .nav-btn:hover { border-color: var(--accent); color: var(--accent); }
        
        /* Summary Box */
        .summary-box {
            background: linear-gradient(135deg, var(--accent-light), rgba(124, 58, 237, 0.05));
            border: 1px solid rgba(124, 58, 237, 0.2);
            border-radius: 12px;
            padding: 30px;
            margin: 50px 0;
        }
        
        .summary-box h3 { color: var(--accent); margin-bottom: 20px; font-size: 1.3rem; }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }
        
        .summary-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--card-bg);
            border-radius: 8px;
            font-size: 0.95rem;
        }
        
        .summary-item .icon { font-size: 1.3rem; }
        
        /* Responsive */
        @media (max-width: 700px) {
            .chapter-header h1 { font-size: 2rem; }
            .form-grid { grid-template-columns: 1fr; }
            .chapter-meta { flex-direction: column; gap: 10px; }
            .topbar-nav { display: none; }
        }
    </style>
</head>
<body>
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    
    <nav class="topbar">
        <a href="index.html?home=true" class="topbar-title">‚Üê Course Home</a>
        <div class="topbar-nav">
            <span style="opacity:0.7">Week 05 of 14</span>
            <a href="Week_04.html">‚Üê Week 04</a>
            <a href="Week_06.html">Week 06 ‚Üí</a>
        </div>
    </nav>
    
    <div class="container">
        <header class="chapter-header">
            <span class="chapter-label">Week 05</span>
            <h1>Lists and Tuples</h1>
            <div class="chapter-meta">
                <span>üìö Computer Programming II</span>
                <span>üë®‚Äçüè´ Dr. Arif Solmaz</span>
            </div>
        </header>
        
        <div class="objectives-box">
            <h3>üéØ Learning Objectives</h3>
            <ul>
                <li>Understand lists as ordered, mutable collections</li>
                <li>Create lists using various methods</li>
                <li>Access elements using positive and negative indexing</li>
                <li>Extract portions using slicing with start:stop:step</li>
                <li>Use list methods: append, insert, remove, pop, sort</li>
                <li>Apply built-in functions: len, sum, min, max, sorted</li>
                <li>Write efficient list comprehensions</li>
                <li>Work with nested lists (2D arrays/matrices)</li>
                <li>Understand tuples as immutable sequences</li>
                <li>Apply tuple unpacking and packing</li>
                <li>Choose between lists and tuples appropriately</li>
                <li>Apply data structures to engineering problems</li>
            </ul>
        </div>
        
        <div class="content">
            <!-- Section 1: Introduction to Lists -->
            <section id="part1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <h2>Introduction to Lists</h2>
                </div>
                
                <p>A <strong>list</strong> is one of Python's most versatile and commonly used data structures. It's an <strong>ordered</strong>, <strong>mutable</strong> collection that can hold items of any data type. Lists are fundamental to programming and are used extensively in engineering for storing sensor data, measurements, coordinates, and more.</p>
                
                <h3>What is a List?</h3>
                <p>Think of a list as a container that holds multiple items in a specific order. Each item has a position (index), and you can add, remove, or change items at any time.</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr><th>Feature</th><th>Description</th><th>Example</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Ordered</strong></td><td>Items maintain their position/sequence</td><td>[1, 2, 3] stays in that order</td></tr>
                            <tr><td><strong>Mutable</strong></td><td>Can be modified after creation</td><td>Can add/remove/change items</td></tr>
                            <tr><td><strong>Heterogeneous</strong></td><td>Can contain different data types</td><td>[1, "hello", 3.14, True]</td></tr>
                            <tr><td><strong>Dynamic</strong></td><td>Can grow or shrink in size</td><td>No fixed size limit</td></tr>
                            <tr><td><strong>Indexed</strong></td><td>Each item has a position number</td><td>First item is at index 0</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Creating Lists</h3>
                <p>There are several ways to create lists in Python:</p>
                
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 1.1: Creating Lists</span>
                        <button class="code-figure-run" onclick="runCode('code1')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code1"># Method 1: Square bracket notation (most common)
empty_list = []
numbers = [1, 2, 3, 4, 5]
fruits = ["apple", "banana", "cherry"]
mixed = [1, "hello", 3.14, True, None]

print("Empty list:", empty_list)
print("Numbers:", numbers)
print("Fruits:", fruits)
print("Mixed types:", mixed)
print("\nType:", type(numbers))</textarea>
                    <div class="code-output" id="outputcode1">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 1.2: Other Ways to Create Lists</span>
                        <button class="code-figure-run" onclick="runCode('code2')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code2"># Method 2: list() constructor
from_string = list("Python")
print("From string:", from_string)

from_range = list(range(1, 6))
print("From range:", from_range)

from_tuple = list((10, 20, 30))
print("From tuple:", from_tuple)

# Method 3: List multiplication
zeros = [0] * 5
print("\nZeros:", zeros)

pattern = [1, 2] * 4
print("Pattern:", pattern)</textarea>
                    <div class="code-output" id="outputcode2">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>List Visualization</h3>
                <p>Understanding how lists are stored in memory helps you work with them effectively:</p>
                
                <pre>
fruits = ["apple", "banana", "cherry", "date"]

Index:      0         1          2         3
         +--------+--------+--------+--------+
Value:   | apple  | banana | cherry |  date  |
         +--------+--------+--------+--------+
Neg Idx:   -4        -3        -2        -1</pre>
                
                <div class="note-box info-box">
                    <p><strong>Memory Tip:</strong> Lists store references to objects, not the objects themselves. This means lists can efficiently hold large objects without copying them.</p>
                </div>
            </section>
            
            <!-- Section 2: Indexing and Access -->
            <section id="part2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <h2>Indexing and Access</h2>
                </div>
                
                <p>Every element in a list has a unique position called an <strong>index</strong>. Python uses zero-based indexing, meaning the first element is at index 0.</p>
                
                <h3>Positive Indexing</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 2.1: Positive Indexing</span>
                        <button class="code-figure-run" onclick="runCode('code3')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code3"># Access elements by positive index
fruits = ["apple", "banana", "cherry", "date", "elderberry"]

print("Index 0:", fruits[0])    # First element
print("Index 1:", fruits[1])    # Second element
print("Index 2:", fruits[2])    # Third element
print("Index 4:", fruits[4])    # Fifth (last) element

# Get the length
print(f"\nList length: {len(fruits)}")
print(f"Last valid index: {len(fruits) - 1}")</textarea>
                    <div class="code-output" id="outputcode3">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Negative Indexing</h3>
                <p>Python also supports negative indexing, which counts from the end of the list:</p>
                
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 2.2: Negative Indexing</span>
                        <button class="code-figure-run" onclick="runCode('code4')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code4"># Access elements by negative index
fruits = ["apple", "banana", "cherry", "date", "elderberry"]

print("Index -1:", fruits[-1])   # Last element
print("Index -2:", fruits[-2])   # Second to last
print("Index -3:", fruits[-3])   # Third to last
print("Index -5:", fruits[-5])   # First element

# Useful for getting the last element
print(f"\nLast fruit: {fruits[-1]}")</textarea>
                    <div class="code-output" id="outputcode4">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Modifying Elements</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 2.3: Modifying List Elements</span>
                        <button class="code-figure-run" onclick="runCode('code5')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code5"># Lists are mutable - we can change elements
colors = ["red", "green", "blue"]
print("Original:", colors)

# Change an element
colors[1] = "yellow"
print("After colors[1] = 'yellow':", colors)

# Change last element
colors[-1] = "purple"
print("After colors[-1] = 'purple':", colors)

# Change first element
colors[0] = "orange"
print("After colors[0] = 'orange':", colors)</textarea>
                    <div class="code-output" id="outputcode5">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Checking Membership</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 2.4: Membership Testing</span>
                        <button class="code-figure-run" onclick="runCode('code6')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code6"># Check if an element exists in a list
fruits = ["apple", "banana", "cherry"]

print("'banana' in list:", "banana" in fruits)
print("'grape' in list:", "grape" in fruits)
print("'grape' NOT in list:", "grape" not in fruits)

# Finding index
print(f"\nIndex of 'cherry': {fruits.index('cherry')}")

# Counting occurrences
grades = [85, 90, 85, 78, 92, 85]
print(f"85 appears {grades.count(85)} times")</textarea>
                    <div class="code-output" id="outputcode6">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <div class="warning-box info-box">
                    <p>Accessing an index that doesn't exist raises an <code>IndexError</code>. Always check the list length or use try/except when working with dynamic indices.</p>
                </div>
            </section>
            
            <!-- Section 3: Slicing -->
            <section id="part3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <h2>Slicing Techniques</h2>
                </div>
                
                <p><strong>Slicing</strong> allows you to extract a portion (subset) of a list. It's one of Python's most powerful features for working with sequences.</p>
                
                <h3>Slice Syntax</h3>
                <pre>list[start:stop:step]

‚Ä¢ start: Starting index (inclusive, default 0)
‚Ä¢ stop: Ending index (exclusive, default len(list))
‚Ä¢ step: Step size (default 1)</pre>
                
                <h4>Basic Slicing</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 3.1: Basic Slicing</span>
                        <button class="code-figure-run" onclick="runCode('code7')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code7"># Basic slicing examples
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print("Full list:", numbers)

print("\n[2:5] =", numbers[2:5])     # Index 2, 3, 4
print("[:4] =", numbers[:4])         # First 4 elements
print("[6:] =", numbers[6:])         # From index 6 to end
print("[:] =", numbers[:])           # Full copy
print("[-3:] =", numbers[-3:])       # Last 3 elements</textarea>
                    <div class="code-output" id="outputcode7">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Slicing with Step</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 3.2: Slicing with Step</span>
                        <button class="code-figure-run" onclick="runCode('code8')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code8"># Using step in slicing
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

print("Every 2nd [::2] =", numbers[::2])
print("Every 3rd [::3] =", numbers[::3])
print("[1:8:2] =", numbers[1:8:2])

# Reverse with negative step
print("\nReversed [::-1] =", numbers[::-1])
print("Every 2nd reversed [::-2] =", numbers[::-2])</textarea>
                    <div class="code-output" id="outputcode8">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Slice Assignment</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 3.3: Slice Assignment</span>
                        <button class="code-figure-run" onclick="runCode('code9')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code9"># You can assign to slices!
letters = ['a', 'b', 'c', 'd', 'e']
print("Original:", letters)

# Replace a slice
letters[1:3] = ['X', 'Y', 'Z']
print("After [1:3] = ['X','Y','Z']:", letters)

# Delete with empty list
letters[2:4] = []
print("After [2:4] = []:", letters)

# Insert with slice
numbers = [1, 2, 5, 6]
numbers[2:2] = [3, 4]  # Insert at position 2
print("\nInsert [3,4] at position 2:", numbers)</textarea>
                    <div class="code-output" id="outputcode9">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Engineering: Time-Series Data</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 3.4: Time-Series Slicing</span>
                        <button class="code-figure-run" onclick="runCode('code10')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code10"># Extract time periods from 24-hour temperature data
hourly_temps = [18, 17, 16, 16, 15, 15, 16, 18, 20, 22, 24, 26,
                28, 29, 30, 29, 28, 26, 24, 22, 21, 20, 19, 18]

morning = hourly_temps[6:12]      # 6AM - 11AM
afternoon = hourly_temps[12:18]   # 12PM - 5PM
evening = hourly_temps[18:24]     # 6PM - 11PM

print(f"Morning temps (06:00-11:00): {morning}")
print(f"Afternoon temps (12:00-17:00): {afternoon}")
print(f"Evening temps (18:00-23:00): {evening}")

print(f"\nMorning avg: {sum(morning)/len(morning):.1f}¬∞C")
print(f"Afternoon avg: {sum(afternoon)/len(afternoon):.1f}¬∞C")
print(f"Peak temp: {max(hourly_temps)}¬∞C at {hourly_temps.index(max(hourly_temps))}:00")</textarea>
                    <div class="code-output" id="outputcode10">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>

            <!-- Section 4: List Methods -->
            <section id="part4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <h2>List Methods</h2>
                </div>
                
                <p>Lists come with many built-in methods for modification. These methods change the list in place (mutate it).</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr><th>Method</th><th>Description</th><th>Example</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><code>append(x)</code></td><td>Add item to end</td><td><code>list.append(4)</code></td></tr>
                            <tr><td><code>insert(i, x)</code></td><td>Insert at position</td><td><code>list.insert(0, "first")</code></td></tr>
                            <tr><td><code>extend(iter)</code></td><td>Add all from iterable</td><td><code>list.extend([4, 5])</code></td></tr>
                            <tr><td><code>remove(x)</code></td><td>Remove first occurrence</td><td><code>list.remove("apple")</code></td></tr>
                            <tr><td><code>pop(i)</code></td><td>Remove and return at index</td><td><code>list.pop(0)</code></td></tr>
                            <tr><td><code>clear()</code></td><td>Remove all items</td><td><code>list.clear()</code></td></tr>
                            <tr><td><code>sort()</code></td><td>Sort in place</td><td><code>list.sort()</code></td></tr>
                            <tr><td><code>reverse()</code></td><td>Reverse in place</td><td><code>list.reverse()</code></td></tr>
                            <tr><td><code>copy()</code></td><td>Return shallow copy</td><td><code>new = list.copy()</code></td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Adding Elements</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 4.1: Adding Elements</span>
                        <button class="code-figure-run" onclick="runCode('code11')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code11"># append() - add one item to end
fruits = ["apple", "banana"]
print("Original:", fruits)

fruits.append("cherry")
print("After append('cherry'):", fruits)

# insert() - add at specific position
fruits.insert(0, "apricot")
print("After insert(0, 'apricot'):", fruits)

fruits.insert(2, "blueberry")
print("After insert(2, 'blueberry'):", fruits)

# extend() - add multiple items
fruits.extend(["date", "elderberry"])
print("After extend(['date', 'elderberry']):", fruits)</textarea>
                    <div class="code-output" id="outputcode11">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Removing Elements</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 4.2: Removing Elements</span>
                        <button class="code-figure-run" onclick="runCode('code12')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code12"># Various ways to remove elements
numbers = [10, 20, 30, 40, 50, 30]
print("Original:", numbers)

# remove() - remove first occurrence of value
numbers.remove(30)
print("After remove(30):", numbers)

# pop() - remove and return by index
last = numbers.pop()       # Remove last
print(f"Popped last: {last}, list: {numbers}")

first = numbers.pop(0)     # Remove first
print(f"Popped first: {first}, list: {numbers}")

# del - delete by index or slice
del numbers[1]
print("After del numbers[1]:", numbers)

# clear() - remove all
numbers.clear()
print("After clear():", numbers)</textarea>
                    <div class="code-output" id="outputcode12">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Sorting</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 4.3: Sorting Lists</span>
                        <button class="code-figure-run" onclick="runCode('code13')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code13"># sort() - modifies list in place
numbers = [64, 34, 25, 12, 22, 11, 90]
print("Original:", numbers)

numbers.sort()
print("Sorted ascending:", numbers)

numbers.sort(reverse=True)
print("Sorted descending:", numbers)

# sorted() - returns new list, original unchanged
words = ["banana", "Apple", "cherry", "Date"]
print("\nOriginal words:", words)
print("sorted():", sorted(words))
print("sorted(key=str.lower):", sorted(words, key=str.lower))
print("Original still:", words)</textarea>
                    <div class="code-output" id="outputcode13">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Reversing</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 4.4: Reversing Lists</span>
                        <button class="code-figure-run" onclick="runCode('code14')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code14"># reverse() - modifies list in place
letters = ['a', 'b', 'c', 'd', 'e']
print("Original:", letters)

letters.reverse()
print("After reverse():", letters)

# reversed() - returns iterator
numbers = [1, 2, 3, 4, 5]
print("\nOriginal numbers:", numbers)
print("list(reversed()):", list(reversed(numbers)))
print("Slice [::-1]:", numbers[::-1])
print("Original still:", numbers)</textarea>
                    <div class="code-output" id="outputcode14">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <div class="tip-box info-box">
                    <p><strong>sort() vs sorted():</strong> <code>sort()</code> modifies the original list and returns None. <code>sorted()</code> returns a new sorted list and leaves the original unchanged.</p>
                </div>
            </section>
            
            <!-- Section 5: List Operations and Functions -->
            <section id="part5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <h2>List Operations and Built-in Functions</h2>
                </div>
                
                <h3>List Concatenation and Repetition</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 5.1: Concatenation and Repetition</span>
                        <button class="code-figure-run" onclick="runCode('code15')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code15"># Concatenation with +
list1 = [1, 2, 3]
list2 = [4, 5, 6]
combined = list1 + list2
print("list1 + list2 =", combined)

# Repetition with *
zeros = [0] * 5
print("[0] * 5 =", zeros)

pattern = [1, 2] * 3
print("[1, 2] * 3 =", pattern)

# += operator (in-place)
numbers = [1, 2]
numbers += [3, 4]
print("\n[1,2] += [3,4] =", numbers)</textarea>
                    <div class="code-output" id="outputcode15">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Built-in Functions for Lists</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 5.2: Built-in Functions</span>
                        <button class="code-figure-run" onclick="runCode('code16')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code16"># Common built-in functions
numbers = [45, 22, 89, 34, 67, 12, 78]

print("List:", numbers)
print(f"len():  {len(numbers)}")
print(f"min():  {min(numbers)}")
print(f"max():  {max(numbers)}")
print(f"sum():  {sum(numbers)}")
print(f"Average: {sum(numbers)/len(numbers):.2f}")

# any() and all()
bools = [True, False, True]
print(f"\nany({bools}): {any(bools)}")
print(f"all({bools}): {all(bools)}")

# Check if any number > 50
print(f"any(n > 50): {any(n > 50 for n in numbers)}")
print(f"all(n > 0): {all(n > 0 for n in numbers)}")</textarea>
                    <div class="code-output" id="outputcode16">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Iterating with enumerate() and zip()</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 5.3: enumerate and zip</span>
                        <button class="code-figure-run" onclick="runCode('code17')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code17"># enumerate() - get index and value
fruits = ["apple", "banana", "cherry"]
print("Using enumerate():")
for index, fruit in enumerate(fruits):
    print(f"  {index}: {fruit}")

# Start from different number
print("\nStarting from 1:")
for num, fruit in enumerate(fruits, start=1):
    print(f"  {num}. {fruit}")

# zip() - combine multiple lists
names = ["Alice", "Bob", "Charlie"]
scores = [85, 92, 78]
grades = ["B", "A", "C"]

print("\nUsing zip():")
for name, score, grade in zip(names, scores, grades):
    print(f"  {name}: {score} ({grade})")</textarea>
                    <div class="code-output" id="outputcode17">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>List Copying</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 5.4: Shallow vs Deep Copy</span>
                        <button class="code-figure-run" onclick="runCode('code18')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code18"># Be careful with assignment!
original = [1, 2, 3]
reference = original  # NOT a copy! Same object

reference[0] = 999
print("After changing reference[0]:")
print("  original:", original)
print("  reference:", reference)

# Proper ways to copy
original = [1, 2, 3]
copy1 = original.copy()
copy2 = original[:]
copy3 = list(original)

copy1[0] = 100
print("\nAfter changing copy1[0]:")
print("  original:", original)
print("  copy1:", copy1)</textarea>
                    <div class="code-output" id="outputcode18">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>
            
            <!-- Section 6: List Comprehensions -->
            <section id="part6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <h2>List Comprehensions</h2>
                </div>
                
                <p>A <strong>list comprehension</strong> is a concise way to create lists. It's one of Python's most powerful and elegant features.</p>
                
                <h3>Basic Syntax</h3>
                <pre>[expression for item in iterable]

# With condition:
[expression for item in iterable if condition]</pre>
                
                <h4>Basic Comprehensions</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 6.1: Basic Comprehensions</span>
                        <button class="code-figure-run" onclick="runCode('code19')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code19"># Traditional loop vs comprehension
# Loop version:
squares_loop = []
for x in range(1, 6):
    squares_loop.append(x ** 2)
print("Loop:", squares_loop)

# Comprehension version:
squares_comp = [x ** 2 for x in range(1, 6)]
print("Comprehension:", squares_comp)

# More examples
doubles = [n * 2 for n in range(1, 6)]
print("Doubles:", doubles)

cubes = [n ** 3 for n in range(1, 5)]
print("Cubes:", cubes)</textarea>
                    <div class="code-output" id="outputcode19">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Comprehensions with Conditions</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 6.2: Filtering with Conditions</span>
                        <button class="code-figure-run" onclick="runCode('code20')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code20"># Filter with if condition
numbers = range(1, 11)

evens = [n for n in numbers if n % 2 == 0]
print("Even numbers:", evens)

odds = [n for n in numbers if n % 2 != 0]
print("Odd numbers:", odds)

# Multiple conditions
divisible_by_2_or_3 = [n for n in range(1, 21) if n % 2 == 0 or n % 3 == 0]
print("Divisible by 2 or 3:", divisible_by_2_or_3)

# Filter strings
words = ["apple", "banana", "cherry", "date", "elderberry"]
long_words = [w for w in words if len(w) > 5]
print("Words > 5 chars:", long_words)</textarea>
                    <div class="code-output" id="outputcode20">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Conditional Expressions</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 6.3: If-Else in Comprehensions</span>
                        <button class="code-figure-run" onclick="runCode('code21')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code21"># if-else in the expression (not filter)
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# Label each number
labels = ["even" if n % 2 == 0 else "odd" for n in numbers]
print("Labels:", labels)

# Replace negatives with zero
data = [-5, 3, -2, 8, -1, 6]
positive = [x if x > 0 else 0 for x in data]
print("Positive only:", positive)

# Categorize grades
scores = [45, 72, 88, 55, 91, 67]
grades = ["Pass" if s >= 60 else "Fail" for s in scores]
print("Scores:", scores)
print("Grades:", grades)</textarea>
                    <div class="code-output" id="outputcode21">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Engineering: Data Processing</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 6.4: Engineering Applications</span>
                        <button class="code-figure-run" onclick="runCode('code22')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code22"># Sensor data processing
raw_readings = [23.5, 24.1, -999, 23.8, 24.0, -999, 23.9]
# -999 indicates sensor error

# Filter out errors
valid = [r for r in raw_readings if r != -999]
print("Valid readings:", valid)
print(f"Average: {sum(valid)/len(valid):.2f}")

# Convert Celsius to Fahrenheit
celsius = [0, 10, 20, 30, 40]
fahrenheit = [c * 9/5 + 32 for c in celsius]
print(f"\nCelsius: {celsius}")
print(f"Fahrenheit: {fahrenheit}")

# Normalize data (0-1 scale)
data = [25, 50, 75, 100, 125]
min_val, max_val = min(data), max(data)
normalized = [(x - min_val) / (max_val - min_val) for x in data]
print(f"\nOriginal: {data}")
print(f"Normalized: {normalized}")</textarea>
                    <div class="code-output" id="outputcode22">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>
            
            <!-- Section 7: Nested Lists -->
            <section id="part7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <h2>Nested Lists (2D Arrays)</h2>
                </div>
                
                <p>A <strong>nested list</strong> is a list containing other lists. This creates a 2D structure similar to matrices in mathematics or spreadsheet data.</p>
                
                <h3>Creating 2D Lists</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 7.1: Creating 2D Lists</span>
                        <button class="code-figure-run" onclick="runCode('code23')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code23"># 2D list (matrix)
matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

print("Matrix:")
for row in matrix:
    print(row)

# Dimensions
rows = len(matrix)
cols = len(matrix[0])
print(f"\nDimensions: {rows} x {cols}")

# Access individual elements
print(f"\nmatrix[0][0] = {matrix[0][0]}")  # Row 0, Col 0
print(f"matrix[1][2] = {matrix[1][2]}")  # Row 1, Col 2
print(f"matrix[2][1] = {matrix[2][1]}")  # Row 2, Col 1</textarea>
                    <div class="code-output" id="outputcode23">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Iterating 2D Lists</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 7.2: Iterating 2D Lists</span>
                        <button class="code-figure-run" onclick="runCode('code24')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code24">matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# Method 1: Nested loops
print("All elements:")
for row in matrix:
    for element in row:
        print(element, end=" ")
    print()  # New line after each row

# Method 2: With indices
print("\nWith indices:")
for i in range(len(matrix)):
    for j in range(len(matrix[i])):
        print(f"[{i}][{j}]={matrix[i][j]}", end="  ")
    print()

# Sum all elements
total = sum(sum(row) for row in matrix)
print(f"\nSum of all elements: {total}")</textarea>
                    <div class="code-output" id="outputcode24">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Matrix Operations</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 7.3: Matrix Operations</span>
                        <button class="code-figure-run" onclick="runCode('code25')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code25"># Row and column sums
matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# Row sums
print("Row sums:")
for i, row in enumerate(matrix):
    print(f"  Row {i}: {sum(row)}")

# Column sums
print("\nColumn sums:")
for j in range(len(matrix[0])):
    col_sum = sum(matrix[i][j] for i in range(len(matrix)))
    print(f"  Col {j}: {col_sum}")

# Diagonal sum (main diagonal)
diag_sum = sum(matrix[i][i] for i in range(len(matrix)))
print(f"\nMain diagonal sum: {diag_sum}")

# Transpose
transposed = [[matrix[j][i] for j in range(len(matrix))] 
              for i in range(len(matrix[0]))]
print("\nTransposed:")
for row in transposed:
    print(row)</textarea>
                    <div class="code-output" id="outputcode25">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Creating Empty 2D Lists</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 7.4: Creating Empty 2D Lists</span>
                        <button class="code-figure-run" onclick="runCode('code26')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code26"># CORRECT way to create 2D list
rows, cols = 3, 4
matrix = [[0 for _ in range(cols)] for _ in range(rows)]
print("Empty 3x4 matrix:")
for row in matrix:
    print(row)

# Modify one element
matrix[1][2] = 99
print("\nAfter matrix[1][2] = 99:")
for row in matrix:
    print(row)

# WRONG way (creates references to same list!)
# wrong = [[0] * cols] * rows  # Don't do this!
# Changing one row would change all rows</textarea>
                    <div class="code-output" id="outputcode26">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>

            <!-- Section 8: Introduction to Tuples -->
            <section id="part8" class="section">
                <div class="section-header">
                    <div class="section-number">8</div>
                    <h2>Introduction to Tuples</h2>
                </div>
                
                <p>A <strong>tuple</strong> is an ordered, <strong>immutable</strong> sequence of elements. Once created, a tuple cannot be modified. Tuples use parentheses <code>()</code> instead of square brackets.</p>
                
                <h3>Tuples vs Lists</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr><th>Feature</th><th>List</th><th>Tuple</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Syntax</strong></td><td><code>[1, 2, 3]</code></td><td><code>(1, 2, 3)</code></td></tr>
                            <tr><td><strong>Mutability</strong></td><td>Mutable (can change)</td><td>Immutable (cannot change)</td></tr>
                            <tr><td><strong>Use case</strong></td><td>Data that may change</td><td>Data that shouldn't change</td></tr>
                            <tr><td><strong>Performance</strong></td><td>Slightly slower</td><td>Slightly faster</td></tr>
                            <tr><td><strong>Methods</strong></td><td>Many (append, etc.)</td><td>Few (count, index)</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Creating Tuples</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 8.1: Creating Tuples</span>
                        <button class="code-figure-run" onclick="runCode('code27')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code27"># Creating tuples
empty = ()
single = (42,)  # Note the comma!
coordinates = (10, 20)
rgb = (255, 128, 0)
mixed = (1, "hello", 3.14, True)

print("Empty tuple:", empty)
print("Single element:", single, "- type:", type(single))
print("Coordinates:", coordinates)
print("RGB:", rgb)
print("Mixed:", mixed)

# Without parentheses (tuple packing)
point = 5, 10, 15
print("\nPacked tuple:", point, "- type:", type(point))

# From list
from_list = tuple([1, 2, 3])
print("From list:", from_list)</textarea>
                    <div class="code-output" id="outputcode27">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <div class="warning-box info-box">
                    <p><strong>Single-element tuple:</strong> Must include a trailing comma: <code>(42,)</code> is a tuple, but <code>(42)</code> is just the integer 42 in parentheses.</p>
                </div>
                
                <h3>Accessing Tuple Elements</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 8.2: Tuple Indexing and Slicing</span>
                        <button class="code-figure-run" onclick="runCode('code28')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code28"># Indexing works just like lists
colors = ("red", "green", "blue", "yellow")

print("Index 0:", colors[0])
print("Index -1:", colors[-1])
print("Slice [1:3]:", colors[1:3])

# Length, min, max work too
numbers = (5, 2, 8, 1, 9)
print(f"\nTuple: {numbers}")
print(f"Length: {len(numbers)}")
print(f"Min: {min(numbers)}")
print(f"Max: {max(numbers)}")
print(f"Sum: {sum(numbers)}")</textarea>
                    <div class="code-output" id="outputcode28">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Tuple Immutability</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 8.3: Tuples are Immutable</span>
                        <button class="code-figure-run" onclick="runCode('code29')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code29"># Tuples cannot be modified
point = (10, 20, 30)
print("Original:", point)

# This would cause an error:
# point[0] = 99  # TypeError!

# But you can create a new tuple
point = point + (40,)
print("New tuple with 40:", point)

# Or convert to list, modify, convert back
coords = (1, 2, 3)
temp_list = list(coords)
temp_list[1] = 99
coords = tuple(temp_list)
print("Modified via list:", coords)

# Check if element exists
print(f"\n20 in point: {20 in point}")
print(f"Index of 20: {point.index(20)}")</textarea>
                    <div class="code-output" id="outputcode29">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>
            
            <!-- Section 9: Tuple Operations -->
            <section id="part9" class="section">
                <div class="section-header">
                    <div class="section-number">9</div>
                    <h2>Tuple Operations and Unpacking</h2>
                </div>
                
                <h3>Tuple Unpacking</h3>
                <p>One of the most useful features of tuples is <strong>unpacking</strong> - assigning multiple variables at once.</p>
                
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 9.1: Tuple Unpacking</span>
                        <button class="code-figure-run" onclick="runCode('code30')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code30"># Basic unpacking
coordinates = (10, 20, 30)
x, y, z = coordinates
print(f"x={x}, y={y}, z={z}")

# Swap variables (Python magic!)
a, b = 5, 10
print(f"\nBefore swap: a={a}, b={b}")
a, b = b, a
print(f"After swap: a={a}, b={b}")

# Unpacking in for loops
points = [(1, 2), (3, 4), (5, 6)]
print("\nPoints:")
for x, y in points:
    print(f"  x={x}, y={y}")

# Unpacking function returns
def get_stats(numbers):
    return min(numbers), max(numbers), sum(numbers)/len(numbers)

data = [23, 45, 67, 89, 12]
minimum, maximum, average = get_stats(data)
print(f"\nMin: {minimum}, Max: {maximum}, Avg: {average:.1f}")</textarea>
                    <div class="code-output" id="outputcode30">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Extended Unpacking with *</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 9.2: Extended Unpacking</span>
                        <button class="code-figure-run" onclick="runCode('code31')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code31"># Use * to capture remaining elements
numbers = (1, 2, 3, 4, 5, 6, 7)

first, *middle, last = numbers
print(f"First: {first}")
print(f"Middle: {middle}")
print(f"Last: {last}")

# Get first and rest
head, *tail = numbers
print(f"\nHead: {head}")
print(f"Tail: {tail}")

# Get all except last
*init, last = numbers
print(f"\nInit: {init}")
print(f"Last: {last}")</textarea>
                    <div class="code-output" id="outputcode31">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Named Tuples</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 9.3: Named Tuples</span>
                        <button class="code-figure-run" onclick="runCode('code32')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code32">from collections import namedtuple

# Create a named tuple class
Point = namedtuple('Point', ['x', 'y', 'z'])
Color = namedtuple('Color', ['red', 'green', 'blue'])

# Create instances
p1 = Point(10, 20, 30)
orange = Color(255, 165, 0)

# Access by name or index
print(f"Point: x={p1.x}, y={p1.y}, z={p1.z}")
print(f"Point: p1[0]={p1[0]}")

print(f"\nOrange: R={orange.red}, G={orange.green}, B={orange.blue}")

# Still immutable!
# p1.x = 99  # AttributeError!

# Useful for readable code
Student = namedtuple('Student', ['name', 'id', 'gpa'])
alice = Student("Alice", "12345", 3.8)
print(f"\n{alice.name} (ID: {alice.id}): GPA = {alice.gpa}")</textarea>
                    <div class="code-output" id="outputcode32">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h3>Tuple Methods</h3>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 9.4: Tuple Methods</span>
                        <button class="code-figure-run" onclick="runCode('code33')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code33"># Tuples have only 2 methods
grades = (85, 90, 78, 85, 92, 85, 88)

# count() - count occurrences
count_85 = grades.count(85)
print(f"Number of 85s: {count_85}")

# index() - find first occurrence
first_85 = grades.index(85)
print(f"First 85 at index: {first_85}")

# Membership testing
print(f"\n90 in grades: {90 in grades}")
print(f"100 in grades: {100 in grades}")

# Concatenation creates new tuple
t1 = (1, 2, 3)
t2 = (4, 5, 6)
combined = t1 + t2
print(f"\nCombined: {combined}")</textarea>
                    <div class="code-output" id="outputcode33">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>
            
            <!-- Section 10: When to Use Each -->
            <section id="part10" class="section">
                <div class="section-header">
                    <div class="section-number">10</div>
                    <h2>Lists vs Tuples: When to Use Each</h2>
                </div>
                
                <h3>Use Lists When:</h3>
                <ul>
                    <li>Data needs to be modified (add, remove, change)</li>
                    <li>Order matters but may change</li>
                    <li>Working with homogeneous data (all same type)</li>
                    <li>Building collections dynamically</li>
                </ul>
                
                <h3>Use Tuples When:</h3>
                <ul>
                    <li>Data should not change (coordinates, constants)</li>
                    <li>Returning multiple values from functions</li>
                    <li>Using as dictionary keys (lists can't be keys!)</li>
                    <li>Representing fixed structures (RGB, coordinates)</li>
                    <li>Slight performance optimization needed</li>
                </ul>
                
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 10.1: Practical Examples</span>
                        <button class="code-figure-run" onclick="runCode('code34')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code34"># LIST: shopping cart (items change)
cart = ["apple", "bread"]
cart.append("milk")
cart.remove("bread")
print("Shopping cart:", cart)

# TUPLE: coordinates (shouldn't change)
origin = (0, 0, 0)
destination = (10, 20, 5)
print(f"From {origin} to {destination}")

# TUPLE: function returning multiple values
def divide_with_remainder(a, b):
    return a // b, a % b

quotient, remainder = divide_with_remainder(17, 5)
print(f"\n17 √∑ 5 = {quotient} remainder {remainder}")

# TUPLE: dictionary key (lists can't be keys!)
locations = {
    (0, 0): "Origin",
    (10, 20): "Office",
    (5, 5): "Cafe"
}
print(f"\nLocation at (10, 20): {locations[(10, 20)]}")</textarea>
                    <div class="code-output" id="outputcode34">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 10.2: Performance Comparison</span>
                        <button class="code-figure-run" onclick="runCode('code35')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code35">import sys

# Memory comparison
my_list = [1, 2, 3, 4, 5]
my_tuple = (1, 2, 3, 4, 5)

print(f"List size: {sys.getsizeof(my_list)} bytes")
print(f"Tuple size: {sys.getsizeof(my_tuple)} bytes")
print(f"Tuple is {sys.getsizeof(my_list) - sys.getsizeof(my_tuple)} bytes smaller")

# Tuples are hashable, lists are not
print(f"\nHash of tuple: {hash(my_tuple)}")
# print(hash(my_list))  # TypeError: unhashable type: 'list'

# This means tuples can be used in sets
point_set = {(0, 0), (1, 1), (2, 2), (0, 0)}  # Duplicates removed
print(f"Unique points: {point_set}")</textarea>
                    <div class="code-output" id="outputcode35">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>
            
            <!-- Section 11: Engineering Applications -->
            <section id="part11" class="section">
                <div class="section-header">
                    <div class="section-number">11</div>
                    <h2>Engineering Applications</h2>
                </div>
                
                <h4>Sensor Data Processing</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 11.1: Sensor Data</span>
                        <button class="code-figure-run" onclick="runCode('code36')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code36"># Processing temperature sensor readings
readings = [23.5, 24.1, 23.8, 24.2, 23.9, 24.0, 23.7, 24.3]

def analyze_sensor_data(data):
    """Analyze sensor readings and return statistics"""
    n = len(data)
    avg = sum(data) / n
    variance = sum((x - avg) ** 2 for x in data) / n
    std_dev = variance ** 0.5
    
    return {
        'count': n,
        'min': min(data),
        'max': max(data),
        'average': round(avg, 2),
        'std_dev': round(std_dev, 2),
        'range': round(max(data) - min(data), 2)
    }

stats = analyze_sensor_data(readings)
print("üìä Sensor Analysis:")
for key, value in stats.items():
    print(f"  {key}: {value}")</textarea>
                    <div class="code-output" id="outputcode36">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>3D Coordinates and Vectors</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 11.2: Vector Operations</span>
                        <button class="code-figure-run" onclick="runCode('code37')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code37">import math

def vector_add(v1, v2):
    """Add two vectors"""
    return tuple(a + b for a, b in zip(v1, v2))

def vector_magnitude(v):
    """Calculate vector magnitude"""
    return math.sqrt(sum(x**2 for x in v))

def vector_dot(v1, v2):
    """Calculate dot product"""
    return sum(a * b for a, b in zip(v1, v2))

# Example vectors
v1 = (3, 4, 0)
v2 = (1, 2, 2)

print(f"Vector 1: {v1}")
print(f"Vector 2: {v2}")
print(f"Sum: {vector_add(v1, v2)}")
print(f"|v1|: {vector_magnitude(v1):.2f}")
print(f"|v2|: {vector_magnitude(v2):.2f}")
print(f"v1 ¬∑ v2: {vector_dot(v1, v2)}")</textarea>
                    <div class="code-output" id="outputcode37">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
                
                <h4>Matrix Multiplication</h4>
                <div class="code-figure">
                    <div class="code-figure-header">
                        <span class="code-figure-label">Figure 11.3: Matrix Multiplication</span>
                        <button class="code-figure-run" onclick="runCode('code38')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="code-editor" id="code38">def matrix_multiply(A, B):
    """Multiply two matrices"""
    rows_A, cols_A = len(A), len(A[0])
    rows_B, cols_B = len(B), len(B[0])
    
    if cols_A != rows_B:
        return None
    
    # Create result matrix
    result = [[0 for _ in range(cols_B)] for _ in range(rows_A)]
    
    for i in range(rows_A):
        for j in range(cols_B):
            for k in range(cols_A):
                result[i][j] += A[i][k] * B[k][j]
    
    return result

# Example: 2x3 √ó 3x2 = 2x2
A = [[1, 2, 3],
     [4, 5, 6]]

B = [[7, 8],
     [9, 10],
     [11, 12]]

print("Matrix A:")
for row in A: print(row)

print("\nMatrix B:")
for row in B: print(row)

C = matrix_multiply(A, B)
print("\nA √ó B =")
for row in C: print(row)</textarea>
                    <div class="code-output" id="outputcode38">
                        <div class="code-output-label">Output</div>
                        <div class="code-output-content"></div>
                    </div>
                </div>
            </section>
            
            <!-- Summary Box -->
            <div class="summary-box">
                <h3>üìã Week 5 Summary</h3>
                <div class="summary-grid">
                    <div class="summary-item"><span class="icon">üìù</span><span><code>[1, 2, 3]</code> - List</span></div>
                    <div class="summary-item"><span class="icon">üîí</span><span><code>(1, 2, 3)</code> - Tuple</span></div>
                    <div class="summary-item"><span class="icon">üìç</span><span>Indexing: <code>[0], [-1]</code></span></div>
                    <div class="summary-item"><span class="icon">‚úÇÔ∏è</span><span>Slicing: <code>[start:stop:step]</code></span></div>
                    <div class="summary-item"><span class="icon">‚ûï</span><span><code>append(), insert(), extend()</code></span></div>
                    <div class="summary-item"><span class="icon">‚ûñ</span><span><code>remove(), pop(), del</code></span></div>
                    <div class="summary-item"><span class="icon">üîÑ</span><span><code>sort(), reverse()</code></span></div>
                    <div class="summary-item"><span class="icon">‚ö°</span><span>Comprehensions</span></div>
                    <div class="summary-item"><span class="icon">üìä</span><span>2D Lists / Matrices</span></div>
                    <div class="summary-item"><span class="icon">üì¶</span><span>Tuple Unpacking</span></div>
                </div>
            </div>

            <!-- Exercises Section -->
            <section id="exercises" class="section">
                <div class="section-header">
                    <div class="section-number">üìù</div>
                    <h2>Practice Exercises</h2>
                </div>
                
                <p>Complete these 15 exercises to master lists and tuples in Python.</p>
                
                <!-- Exercise 1 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">1</span>Create a List</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Create a list called <code>numbers</code> containing 1 through 5, then print it.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[1, 2, 3, 4, 5]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints1')">üí° Show Hints</button>
                            <div class="hints-content" id="hints1">
                                <ul>
                                    <li>Use square brackets: <code>[1, 2, 3, 4, 5]</code></li>
                                    <li>Or use: <code>list(range(1, 6))</code></li>
                                    <li>Assign to variable: <code>numbers = [...]</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex1')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex1"># Create the list

print(numbers)</textarea>
                            <div class="code-output" id="outputex1">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 2 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">2</span>Access Last Element</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Print the last element of the list using negative indexing.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>elderberry</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints2')">üí° Show Hints</button>
                            <div class="hints-content" id="hints2">
                                <ul>
                                    <li>Negative index -1 gets last element</li>
                                    <li>Syntax: <code>fruits[-1]</code></li>
                                    <li>-2 would get second-to-last, etc.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex2')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex2">fruits = ["apple", "banana", "cherry", "date", "elderberry"]
# Print the last element using negative indexing
</textarea>
                            <div class="code-output" id="outputex2">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 3 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">3</span>Slice Middle Elements</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Extract elements at indices 2, 3, 4 (the middle three numbers).</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[30, 40, 50]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints3')">üí° Show Hints</button>
                            <div class="hints-content" id="hints3">
                                <ul>
                                    <li>Slice syntax: <code>list[start:end]</code></li>
                                    <li>End index is exclusive, so use <code>[2:5]</code></li>
                                    <li>Gets indices 2, 3, 4 (values 30, 40, 50)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex3')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex3">numbers = [10, 20, 30, 40, 50, 60, 70]
# Slice to get [30, 40, 50]
middle = 
print(middle)</textarea>
                            <div class="code-output" id="outputex3">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 4 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">4</span>Append and Extend</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Add "date" using append, then add ["elderberry", "fig"] using extend.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>['apple', 'banana', 'cherry', 'date', 'elderberry', 'fig']</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints4')">üí° Show Hints</button>
                            <div class="hints-content" id="hints4">
                                <ul>
                                    <li>Append single item: <code>fruits.append("date")</code></li>
                                    <li>Extend with list: <code>fruits.extend(["elderberry", "fig"])</code></li>
                                    <li>append() adds one, extend() adds multiple</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex4')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex4">fruits = ["apple", "banana", "cherry"]
# Add "date"

# Add ["elderberry", "fig"]

print(fruits)</textarea>
                            <div class="code-output" id="outputex4">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 5 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">5</span>List Sum and Average</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Calculate and print the sum and average of the list.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>Sum: 45
Average: 9.0</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints5')">üí° Show Hints</button>
                            <div class="hints-content" id="hints5">
                                <ul>
                                    <li>Use <code>sum(numbers)</code> for total</li>
                                    <li>Average: <code>sum(numbers) / len(numbers)</code></li>
                                    <li>Assign to variables: total and avg</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex5')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex5">numbers = [5, 10, 15, 7, 8]
# Calculate sum and average

print(f"Sum: {total}")
print(f"Average: {avg}")</textarea>
                            <div class="code-output" id="outputex5">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 6 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">6</span>Reverse a List</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Reverse the list using slicing (not the reverse() method).</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[5, 4, 3, 2, 1]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints6')">üí° Show Hints</button>
                            <div class="hints-content" id="hints6">
                                <ul>
                                    <li>Use slice with step -1: <code>[::-1]</code></li>
                                    <li>Syntax: <code>numbers[::-1]</code></li>
                                    <li>Creates a reversed copy of the list</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex6')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex6">numbers = [1, 2, 3, 4, 5]
# Reverse using slicing
reversed_list = 
print(reversed_list)</textarea>
                            <div class="code-output" id="outputex6">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 7 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">7</span>List Comprehension Squares</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Use a list comprehension to create squares of 1-5.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[1, 4, 9, 16, 25]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints7')">üí° Show Hints</button>
                            <div class="hints-content" id="hints7">
                                <ul>
                                    <li>Comprehension: <code>[expression for item in iterable]</code></li>
                                    <li>Square: <code>x ** 2</code> or <code>x * x</code></li>
                                    <li>Example: <code>[x**2 for x in range(1, 6)]</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex7')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex7"># Create squares using comprehension
squares = 
print(squares)</textarea>
                            <div class="code-output" id="outputex7">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 8 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">8</span>Filter Even Numbers</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Use a list comprehension to filter only even numbers.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[2, 4, 6, 8, 10]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints8')">üí° Show Hints</button>
                            <div class="hints-content" id="hints8">
                                <ul>
                                    <li>Add condition: <code>[x for x in list if condition]</code></li>
                                    <li>Even check: <code>x % 2 == 0</code></li>
                                    <li>Example: <code>[x for x in numbers if x % 2 == 0]</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex8')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex8">numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
# Filter even numbers using comprehension
evens = 
print(evens)</textarea>
                            <div class="code-output" id="outputex8">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 9 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">9</span>2D List Row Sum</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Calculate and print the sum of each row in the matrix.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>Row 0 sum: 6
Row 1 sum: 15
Row 2 sum: 24</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints9')">üí° Show Hints</button>
                            <div class="hints-content" id="hints9">
                                <ul>
                                    <li>Use <code>for i, row in enumerate(matrix):</code></li>
                                    <li>Sum each row: <code>sum(row)</code></li>
                                    <li>Print: <code>f"Row {i} sum: {sum(row)}"</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex9')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex9">matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]
# Print sum of each row
</textarea>
                            <div class="code-output" id="outputex9">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 10 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">10</span>Tuple Unpacking</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Unpack the coordinates tuple into x, y, z variables.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>x=10, y=20, z=30</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints10')">üí° Show Hints</button>
                            <div class="hints-content" id="hints10">
                                <ul>
                                    <li>Unpack syntax: <code>x, y, z = tuple</code></li>
                                    <li>One line: <code>x, y, z = coordinates</code></li>
                                    <li>Number of variables must match tuple length</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex10')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex10">coordinates = (10, 20, 30)
# Unpack into x, y, z

print(f"x={x}, y={y}, z={z}")</textarea>
                            <div class="code-output" id="outputex10">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 11 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">11</span>Swap Variables</div>
                        <span class="difficulty easy">Easy</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Swap the values of a and b using tuple unpacking.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>Before: a=5, b=10
After: a=10, b=5</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints11')">üí° Show Hints</button>
                            <div class="hints-content" id="hints11">
                                <ul>
                                    <li>Python swap idiom: <code>a, b = b, a</code></li>
                                    <li>No temp variable needed</li>
                                    <li>Works with tuples on both sides</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex11')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex11">a = 5
b = 10
print(f"Before: a={a}, b={b}")

# Swap a and b

print(f"After: a={a}, b={b}")</textarea>
                            <div class="code-output" id="outputex11">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 12 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">12</span>Sort and Find Max</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Sort the list and print the top 3 scores.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>Top 3 scores: [95, 92, 88]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints12')">üí° Show Hints</button>
                            <div class="hints-content" id="hints12">
                                <ul>
                                    <li>Sort descending: <code>sorted(scores, reverse=True)</code></li>
                                    <li>Take first 3: <code>[:3]</code></li>
                                    <li>Combine: <code>sorted(scores, reverse=True)[:3]</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex12')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex12">scores = [78, 92, 65, 88, 72, 95, 81]
# Get top 3 scores (highest first)
top3 = 
print(f"Top 3 scores: {top3}")</textarea>
                            <div class="code-output" id="outputex12">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 13 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">13</span>Enumerate Loop</div>
                        <span class="difficulty medium">Medium</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Use enumerate to print each fruit with its position (starting from 1).</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>1. apple
2. banana
3. cherry</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints13')">üí° Show Hints</button>
                            <div class="hints-content" id="hints13">
                                <ul>
                                    <li>Use <code>enumerate(fruits, start=1)</code></li>
                                    <li>Unpack: <code>for i, fruit in enumerate(...):</code></li>
                                    <li>Print: <code>f"{i}. {fruit}"</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex13')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex13">fruits = ["apple", "banana", "cherry"]
# Use enumerate starting from 1
</textarea>
                            <div class="code-output" id="outputex13">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 14 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">14</span>Flatten 2D List</div>
                        <span class="difficulty hard">Challenge</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Flatten a 2D list into a 1D list using list comprehension.</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[1, 2, 3, 4, 5, 6, 7, 8, 9]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints14')">üí° Show Hints</button>
                            <div class="hints-content" id="hints14">
                                <ul>
                                    <li>Use nested comprehension: <code>[item for sublist in matrix for item in sublist]</code></li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex14')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex14">matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
# Flatten using comprehension
flat = 
print(flat)</textarea>
                            <div class="code-output" id="outputex14">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 15 -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-title"><span class="exercise-number">15</span>Matrix Transpose</div>
                        <span class="difficulty hard">Challenge</span>
                    </div>
                    <div class="exercise-body">
                        <p class="exercise-description">Transpose the matrix (swap rows and columns).</p>
                        <div class="expected-output">
                            <div class="expected-output-label">‚úì Expected Output</div>
                            <pre>[[1, 4], [2, 5], [3, 6]]</pre>
                        </div>
                        <div class="hints-container">
                            <button class="hints-toggle" onclick="toggleHints('hints15')">üí° Show Hints</button>
                            <div class="hints-content" id="hints15">
                                <ul>
                                    <li>Use zip() with * unpacking: <code>list(map(list, zip(*matrix)))</code></li>
                                    <li>Or nested comprehension</li>
                                </ul>
                            </div>
                        </div>
                        <div class="code-figure">
                            <div class="code-figure-header">
                                <span class="code-figure-label">Your Solution</span>
                                <button class="code-figure-run" onclick="runCode('ex15')">‚ñ∂ Run</button>
                            </div>
                            <textarea class="code-editor" id="ex15">matrix = [[1, 2, 3], [4, 5, 6]]
# Transpose the matrix
transposed = 
print(transposed)</textarea>
                            <div class="code-output" id="outputex15">
                                <div class="code-output-label">Output</div>
                                <div class="code-output-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Submit Section -->
            <section id="submit" class="section">
                <div class="section-header">
                    <div class="section-number">üì§</div>
                    <h2>Submit Your Work</h2>
                </div>
                
                <div class="submit-section">
                    <h2>üìã Submission Form</h2>
                    <p>Complete the exercises above, then fill out this form to record your attendance and participation.</p>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Student ID</label>
                            <input type="text" id="studentId" placeholder="e.g., 2024001234" maxlength="10">
                        </div>
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="studentName" placeholder="e.g., Ahmet Yƒ±lmaz">
                        </div>
                        <div class="form-group">
                            <label>Email (@istun.edu.tr)</label>
                            <input type="email" id="studentEmail" placeholder="e.g., ahmet.yilmaz@istun.edu.tr">
                        </div>
                        <div class="form-group">
                            <label>Class Code (from instructor)</label>
                            <input type="text" id="classCode" placeholder="Enter code from class">
                        </div>
                    </div>
                    
                    <div class="honeypot">
                        <input type="text" id="website" tabindex="-1" autocomplete="off">
                    </div>
                    
                    <button class="submit-btn" onclick="submitWork()">Submit Week 05</button>
                    
                    <div class="submit-status" id="submitStatus"></div>
                </div>
            </section>
            
            <!-- Navigation -->
            <div class="page-nav">
                <a href="Week_04.html" class="nav-btn">‚Üê Week 04</a>
                <a href="index.html?home=true" class="nav-btn">Course Home</a>
                <a href="Week_06.html" class="nav-btn">Week 06 ‚Üí</a>
            </div>
        </div>
    </div>
    
    <script>
        // Progress bar
        function updateProgress() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = Math.min(100, Math.max(0, (winScroll / height) * 100));
            document.getElementById('progressBar').style.width = scrolled + '%';
        }
        window.addEventListener('scroll', updateProgress);
        window.addEventListener('load', updateProgress);
        
        // Hints toggle
        function toggleHints(id) {
            const hints = document.getElementById(id);
            hints.classList.toggle('show');
            const btn = hints.previousElementSibling;
            btn.textContent = hints.classList.contains('show') ? 'üí° Hide Hints' : 'üí° Show Hints';
        }
        
        // Pyodide for Python execution
        let pyodideReady = false;
        let pyodide = null;
        
        async function runCode(codeId) {
            const codeEl = document.getElementById(codeId);
            const outputEl = document.getElementById('output' + codeId);
            const code = codeEl.value;
            
            outputEl.classList.add('show');
            const outputContent = outputEl.querySelector('.code-output-content');
            
            if (!pyodideReady) {
                outputContent.textContent = 'Initializing Python (first run takes a few seconds)...';
                try {
                    pyodide = await loadPyodide();
                    pyodideReady = true;
                } catch (e) {
                    outputContent.textContent = 'Error loading Python: ' + e.message;
                    return;
                }
            }
            
            outputContent.textContent = 'Running...';
            
            try {
                pyodide.runPython(`
import sys
from io import StringIO
sys.stdout = StringIO()
`);
                await pyodide.runPythonAsync(code);
                const output = pyodide.runPython(`sys.stdout.getvalue()`);
                outputContent.textContent = output || '(no output)';
            } catch (e) {
                outputContent.textContent = 'Error: ' + e.message;
            }
        }
        
        // Form validation and submission
        const pageLoadTime = Date.now();
        
        // ============ ANTI-CHEAT SYSTEM ============
        // Store original/default code for each exercise
        const originalExerciseCode = {};
        // Track keystroke counts per exercise
        const keystrokeCounts = {};
        // Track if paste was attempted
        const pasteAttempts = {};
        
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.code-editor[id^="ex"]').forEach(textarea => {
                const exId = textarea.id;
                
                // Store original code
                originalExerciseCode[exId] = textarea.value;
                keystrokeCounts[exId] = 0;
                pasteAttempts[exId] = 0;
                
                // Block paste
                textarea.addEventListener('paste', function(e) {
                    e.preventDefault();
                    pasteAttempts[exId]++;
                    // Show warning
                    const warning = document.createElement('div');
                    warning.textContent = '‚ö†Ô∏è Paste is disabled. Please type your code.';
                    warning.style.cssText = 'color:#f87171;font-size:12px;margin-top:5px;';
                    warning.className = 'paste-warning';
                    // Remove existing warning if any
                    const existingWarning = textarea.parentElement.querySelector('.paste-warning');
                    if (existingWarning) existingWarning.remove();
                    textarea.parentElement.appendChild(warning);
                    // Auto-remove warning after 3 seconds
                    setTimeout(() => warning.remove(), 3000);
                });
                
                // Block drag & drop
                textarea.addEventListener('drop', function(e) {
                    e.preventDefault();
                });
                
                // Count keystrokes (only actual typing keys)
                textarea.addEventListener('keydown', function(e) {
                    // Count printable characters, backspace, delete, enter, tab
                    if (e.key.length === 1 || ['Backspace', 'Delete', 'Enter', 'Tab'].includes(e.key)) {
                        keystrokeCounts[exId]++;
                    }
                });
            });
        });
        
        // Check if code was actually modified by student (with meaningful effort)
        function isCodeModified(exId, currentCode) {
            const original = originalExerciseCode[exId] || '';
            const keystrokes = keystrokeCounts[exId] || 0;
            
            // Normalize whitespace for comparison
            const normalizedOriginal = original.trim().replace(/\s+/g, ' ');
            const normalizedCurrent = currentCode.trim().replace(/\s+/g, ' ');
            
            // Must be different from original
            if (normalizedOriginal === normalizedCurrent) return false;
            
            // Must have typed at least 20 keystrokes (prevents minimal changes)
            if (keystrokes < 20) return false;
            
            // Remove comments and check if anything substantial remains
            const withoutComments = currentCode.replace(/#.*$/gm, '').replace(/"""[\s\S]*?"""/g, '').replace(/'''[\s\S]*?'''/g, '').trim();
            const originalWithoutComments = original.replace(/#.*$/gm, '').replace(/"""[\s\S]*?"""/g, '').replace(/'''[\s\S]*?'''/g, '').trim();
            
            // Must have added meaningful code (not just modified comments)
            if (withoutComments.length <= originalWithoutComments.length + 10) return false;
            
            return true;
        }
        // ============ END ANTI-CHEAT ============
        
        function validateStudentId(id) {

            if (id.length < 6 || id.length > 10) return false;
            if (!/^\d+$/.test(id)) return false;
            if (/^(\d)\1+$/.test(id)) return false;
            return true;
        }
        
        function validateName(name) {
            if (name.length < 5) return false;
            const words = name.trim().split(/\s+/);
            if (words.length < 2) return false;
            if (!/^[A-Za-zƒü√º≈üƒ±√∂√ßƒû√ú≈ûƒ∞√ñ√á\s]+$/.test(name)) return false;
            return true;
        }
        
        function validateEmail(email) {
            return email.endsWith('@istun.edu.tr') && email.length > 15;
        }
        
        async function submitWork() {
            const status = document.getElementById('submitStatus');
            status.style.display = 'none';
            
            const studentId = document.getElementById('studentId').value.trim();
            const studentName = document.getElementById('studentName').value.trim();
            const studentEmail = document.getElementById('studentEmail').value.trim().toLowerCase();
            const classCode = document.getElementById('classCode').value.trim().toUpperCase();
            const honeypot = document.getElementById('website').value;
            
            // Bot check
            if (honeypot) {
                status.textContent = '‚ùå Submission rejected.';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            // Time check
            const timeOnPage = Math.floor((Date.now() - pageLoadTime) / 1000);
            if (timeOnPage < 60) {
                status.textContent = '‚ùå Please spend more time reviewing the material.';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            // Required fields
            if (!studentId || !studentName || !studentEmail || !classCode) {
                status.textContent = '‚ùå All fields are required.';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            // Validate student ID
            if (!validateStudentId(studentId)) {
                status.textContent = '‚ùå Invalid Student ID (must be 6-10 digits).';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            // Validate name
            if (!validateName(studentName)) {
                status.textContent = '‚ùå Please enter your full name (first and last).';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            // Validate email
            if (!validateEmail(studentEmail)) {
                status.textContent = '‚ùå Please use your @istun.edu.tr email.';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            // Validate class code
            if (classCode.length < 4) {
                status.textContent = '‚ùå Invalid class code.';
                status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                return;
            }
            
            status.textContent = '‚è≥ Collecting answers and submitting...';
            status.style.cssText = 'display:block;background:rgba(124,58,237,0.2);color:#a78bfa';
            
            // Collect all exercise answers with anti-cheat data
            const answers = {};
            const exerciseCards = document.querySelectorAll('.exercise-card');
            exerciseCards.forEach((card, index) => {
                const exNum = index + 1;
                const titleEl = card.querySelector('.exercise-title');
                const descEl = card.querySelector('.exercise-description');
                const codeEl = card.querySelector('.code-editor[id^="ex"]');
                
                if (codeEl) {
                    const exId = codeEl.id;
                    const code = codeEl.value || '';
                    const wasModified = isCodeModified(exId, code);
                    
                    answers[exId] = {
                        title: titleEl ? titleEl.textContent.replace(/^\d+/, '').trim() : 'Exercise ' + exNum,
                        description: descEl ? descEl.textContent.trim() : '',
                        code: code,
                        modified: wasModified,
                        keystrokes: keystrokeCounts[exId] || 0,
                        pasteAttempts: pasteAttempts[exId] || 0
                    };
                }
            });

            
            // Fetch IP and location
            let ipAddress = 'Unknown';
            let location = 'Unknown';
            try {
                const ipResponse = await fetch('https://ipapi.co/json/', { timeout: 5000 });
                if (ipResponse.ok) {
                    const ipData = await ipResponse.json();
                    ipAddress = ipData.ip || 'Unknown';
                    location = (ipData.city && ipData.country_name) 
                        ? `${ipData.city}, ${ipData.country_name}` 
                        : (ipData.country_name || 'Unknown');
                }
            } catch (e) {
                console.log('Could not fetch IP info');
            }
            
            const data = {
                week: 'Week_05',
                studentId: studentId,
                studentName: studentName,
                studentEmail: studentEmail,
                classCode: classCode,
                timeOnPage: timeOnPage,
                source: 'cp2-web',
                answers: answers,
                ipAddress: ipAddress,
                location: location
            };
            
            const scriptUrl = 'https://script.google.com/macros/s/AKfycbyf1D3HGSAX4MoIhNlAuWlGrFyyvbM5MIv7ZsLxrVDlATUihrRGEAaibvIZYlCfd8Me/exec';
            
            fetch(scriptUrl, {
                method: 'POST',
                mode: 'cors',
                headers: { 'Content-Type': 'text/plain' },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    status.textContent = '‚úÖ ' + result.message + ' Check your email for confirmation with your submitted answers.';
                    status.style.cssText = 'display:block;background:rgba(5,150,105,0.2);color:#6ee7b7';
                } else {
                    status.textContent = '‚ùå ' + result.message;
                    status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                }
            })
            .catch(error => {
                fetch(scriptUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'text/plain' },
                    body: JSON.stringify(data)
                })
                .then(() => {
                    status.textContent = '‚ö†Ô∏è Request sent. Check your email for confirmation.';
                    status.style.cssText = 'display:block;background:rgba(217,119,6,0.2);color:#fcd34d';
                })
                .catch(() => {
                    status.textContent = '‚ùå Connection error. Please try again.';
                    status.style.cssText = 'display:block;background:rgba(220,38,38,0.2);color:#fca5a5';
                });
            });
        }
    </script>
</body>
</html>
